(function(){for(var c,b="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profileEnd table time timeEnd timeStamp trace warn".split(" "),d=b.length,a=window.console=window.console||{};d--;)c=b[d],a[c]||(a[c]=$.noop)})();
(function(c){c(document).ready(function(){c("html").removeClass("no-js").addClass("js")});window.app={classes:{},debug:!0,log:function(){app.debug&&console.log.apply(console,Array.prototype.slice.call(arguments,0))},module:function(b){if("function"===typeof b.init)c(document).on("ready",b.init);return b}}})(jQuery);
(function(c){var b=c.easie(0.6,-0.15,0.73,0.05),d=app.classes.Balloon=function(a){var d=c(a);return{element:d,vanish:function(){var a=d.children(".balloon-body"),g=d.children(".balloon-shadow"),n=parseInt(a.children(".balloon-label").text());a.animate({top:"-="+(a.offset().top+a.height()+200)},6E3,b);g.animate({top:"-="+(g.offset().top+g.height())},6E3,b);a.add(g).promise().done(function(){d.remove()});var h=c(".progress");0<h.size()&&setTimeout(function(){h.data("app:progress").achieve(n)},5500)}}};
app.module({init:function(){c(".balloon").each(function(){var a=new d(this);c(this).data("app:balloon",a)})}})})(jQuery);
(function(c){app.module({init:function(){var b=app.classes.Carousel={element:null,settings:null,init:function(d,a){var b=this;this.element=c(d);this.settings=c.extend({duration:500,durationNail:150,easingHide:"easieEaseInOutCubic",easingShow:"easieEaseInOutCubic"},a);this.element.on("click",".certificate.is-clickable",function(){b.showFrame(this)});this.element.on("mouseenter",".certificate.is-clickable",function(){b.hintFrame(this)});this.element.on("mouseleave",".certificate.is-clickable",function(){b.unhintFrame(this)});
this.showFrame(this.element.find(".certificate").first());return this},hintFrame:function(d){d=c(d);var a=d.index();d.stop().animate({left:0===a?"2%":"98%"})},unhintFrame:function(d){d=c(d);var a=d.index();d.stop().animate({left:0===a?0:"100%"})},showFrame:function(d){var a=this;d=c(d);var b=d.find(".certificate-nail"),e=d.siblings(".certificate"),g=e.find(".certificate-nail"),n=e.index();d.removeClass("is-clickable");d.stop().animate({fontSize:100,left:"50%",opacity:1},this.settings.duration,this.settings.easingShow);
e.stop().animate({fontSize:32,left:0===n?0:"100%",opacity:0.4},this.settings.duration,this.settings.easingHide);g.fadeOut(0);d.promise().done(function(){b.fadeIn(a.settings.durationNail)});e.add(b).add(g).promise().done(function(){e.addClass("is-clickable")})}};Object.create||(Object.create=function(c){function a(){}a.prototype=c;return new a});Object.create(b).init(".promo-certificates")}})})(jQuery);
(function(c){app.module({init:function(){var b=function(d){c(d).each(function(){var a=c(this);a.parent(".choice-option").toggleClass("is-checked",a.prop("checked"))})};c(".choice").each(function(){var d,a;d=c(this);a=d.find("input");if("radio"===a.attr("type"))d.on("change","input",function(){b(a)});else d.on("change","input",function(){b(this)});d.on("click",function(){b(a)});b(a)})}})})(jQuery);
(function(c){app.module({init:function(){c(".promo-council").each(function(){var b=c(this),d=b.find(".promo-council-image"),a=b.find(".promo-popover"),f=a.find(".promo-popover-arrow"),e=a.find(".promo-popover-inner"),g=0;b.on("click",".promo-council-image:not(.is-active)",function(){var b=c(this),h=b.parents(".promo-council-item"),k=h.parents(".promo-council-row"),l=k.siblings(".promo-council-row").andSelf();d.removeClass("is-active");b.addClass("is-active");var j=l.index(k),b=e.height();j!==g&&(g<
l.size()-1&&c("<div></div>").insertBefore(a).height(b+64).animate({height:1},300,function(){c(this).remove()}),a.insertAfter(k),b=j===g?b:0,g=j);f.animate({left:33.3*h.index()+"%"},300);e.html(h.find(".promo-council-popover").html());h=e.height();e.height(b).animate({height:h},300,function(){c(this).height("auto")})})})}})})(jQuery);
(function(c){var b=app.classes.Counter=function(d){var a=c(d);d=a.html();var b=parseInt(d,10);a.kCounter({duration:300,height:a.height(),width:Math.round(a.width()/d.length)});return{element:a,getValue:function(){return b},setValue:function(c){a.kCounter("update",c);b=c}}};app.module({init:function(){c(".counter").each(function(){c(this).data("app:counter",new b(this))})}})})(jQuery);
(function(c){var b=app.classes.Elevator=function(b,a){function f(a,b){var d=a.outerHeight(),e=a.outerWidth(),f=c(document.createElement("li"));f.css({width:e,height:d,position:"relative"});e=[];a.is(":first-child")&&e.push("first-child");a.is(":last-child")&&e.push("last-child");e=e.join(" ");a.clone().addClass(e).appendTo(f);a.removeClass(n).addClass(b);var h=c(document.createElement("div"));h.append(a.clone()).addClass(e).css({position:"absolute",height:0,right:0,left:0,top:0}).appendTo(f);f.insertAfter(a.hide());
h.animate({height:d},500,function(){f.remove();a.show()})}var e=c.extend({activeClass:"is-active",doneClass:"is-done",errorClass:"is-error",levelSelector:"> ul > li"},a),g=c(b),n=[e.activeClass,e.doneClass,e.errorClass].join(" "),h=g.find(e.levelSelector),k=h.index(h.filter("."+e.activeClass)),l=h.size();return{element:g,fail:function(){var a=c(h.eq(k));a.removeClass(n).addClass(e.errorClass);var b=Math.pow(2,4);a.css("position","relative");for(var d=0;6>d;d++)a.animate({left:b},60*(1-Math.pow(d/
6,2)),"easieEaseOutSine"),b=Math.floor(b/-2);a.promise().done(function(){a.css({position:"",left:""})})},proceed:function(){k<l&&(f(h.eq(k),e.doneClass),k+1<l&&(f(h.eq(k+1),e.activeClass),k++))}}};app.module({init:function(){c(".elevator").each(function(){c(this).data("app:elevator",new b(this))})}})})(jQuery);
(function(c){var b=app.classes.Media=function(b){function a(){var a=c(document.createElement("span"));a.addClass(f.attr("class"));var b=c(document.createElement("iframe"));b.attr({allowfullscreen:"allowfullscreen",frameborder:0,height:f.height(),src:"http://www.youtube.com/embed/"+e+"?autoplay=1",width:f.width()});b.appendTo(a);f.replaceWith(a);f=a}var f=c(b);f.children("img");var e=/v=([a-z0-9_-]+)/i.exec(f.prop("search"))[1];b=""===f.data("autoplay");var g=""===f.data("static");b&&a();f.on("click",
function(c){g||(a(),c.preventDefault())});return{element:f,play:a}};app.module({init:function(){app.Media=b;c(".media").each(function(){new b(this)})}})})(jQuery);
(function(c){var b=app.classes.ModalContainer=function(b){var a=this;a.element=c(b);a.show=function(c){a.element.find(c).addClass("is-active").siblings().removeClass("is-active");a.element.addClass("is-active")};this.hide=function(){a.element.find(".modal.is-active").removeClass("is-active");a.element.removeClass("is-active")};a.element.on("click.modal",function(){a.hide()});a.element.on("click.modal",".l-modals-inner",function(a){a.stopPropagation()});return this};app.module({init:function(){0<c(".l-modals").size()&&
(app.modals=new b(".l-modals"),c(document).on("click.modal",'[data-toggle="modal"]',function(){app.modals.show(c(this).data("href"))}))}})})(jQuery);
(function(c){var b=app.classes.Progress=function(b){var a=c(b),f=a.find(".counter"),e=a.find(".progress-progress").not(".progress-progress-achievement"),g=a.find(".progress-progress-achievement");return{achieve:function(b){if(!(0>=g.size())){var d=parseInt(g.get(0).style.width,10),k=parseInt(e.get(0).style.width,10),l=f.data("app:counter"),j=c(document.createElement("div"));j.addClass("progress-shield");j.text("+"+b);j.appendTo(a);j.css({marginLeft:j.outerWidth()/-2,left:e.width()});e.css({width:k+
d+"%"});g.css({marginLeft:-d+"%"});j.animate({left:e.width()},300);j.delay(1500);j.fadeOut(300,function(){j.remove()});g.animate({marginLeft:0,width:0},300,function(){g.remove()});l.setValue(parseInt(l.getValue()+b))}},element:a}};app.module({init:function(){c(".progress").each(function(){c(this).data("app:progress",new b(this))})}})})(jQuery);
(function(c){var b=app.classes.Questions=function(b){function a(a){for(var c=0,b=m.length;c<b;){if(m[c].main>a)return m[c-1].nav+(a-m[c-1].main)*((m[c].nav-m[c-1].nav)/(m[c].main-m[c-1].main));c++}}var f=c(b),e=f.children(".questions-nav"),g=e.children(".questions-caret"),n=c(window),h=e.clone().addClass("invisible").insertBefore(e),k;f.parents().each(function(){var a=c(this);0===a.scrollTop()&&a.scrollTop(1);if(0<a.scrollTop())return k=a,!1});var l,j,p,q,m,r="";this.update=function(b){b&&(l=f.height(),
j=h.height(),p=f.offset().top,q=l-j,m=[],h.find("a").each(function(){m.push({main:c(this.hash).offset().top-p,nav:c(this).offset().top-p})}),m.push({main:l,nav:j}));b=k.scrollTop()-p;var d=0<b?b>l-j?"bottom":"fixed":"";0<b?b>q?(b=q,d="bottom"):d="fixed":(b=0,d="");d!==r&&(r=d,e.removeClass("questions-nav-bottom questions-nav-fixed"),"fixed"===d?e.addClass("questions-nav-fixed"):(e.removeAttr("style"),"bottom"===d&&e.addClass("questions-nav-bottom")));"fixed"===d&&e.css({left:h.offset().left,width:h.width()});
d=a(b);b=a(b+n.height())-d;g.css({height:b,top:d})};n.on("scroll",c.proxy(this.update)).on("resize",c.proxy(this.update,this,!0));e.on("click","a",function(a){k.animate({scrollTop:c(a.target.hash).offset().top},150);a.preventDefault()});this.update(!0)};app.module({init:function(){c(".questions").each(function(){new b(this)})}})})(jQuery);
(function(c){app.module({init:function(){c(".promo-screen").each(function(){var b=c(this),d=b.children(".promo-screen-nav"),a=b.find(".promo-screen-main"),b=b.find(".media.media-large"),f=b.height(),e=b.width();d.on("click",".media",function(b){c(this).parents(".promo-screen-item").addClass("is-active").siblings().removeClass("is-active");var d=c(document.createElement("a"));d.addClass("media media-large");d.attr({href:c(this).attr("href")});d.css({width:e,height:f});a.empty().append(d);mediaObject=
new app.Media(d);mediaObject.play();b.preventDefault()})})}})})(jQuery);
(function(c){var b=app.classes.Section=function(b){var a=this;a.element=c(b);var f=a.element.find(".section-toggle > li"),e=a.element.find(".section-view"),g=a.element.find(".section-inner");a.stateIndex=f.index(f.filter(".is-active"));a.toggle=function(b){if(a.stateIndex!==b){f.removeClass("is-active").eq(b).addClass("is-active");var c=e.eq(a.stateIndex),d=e.eq(b),l=c.height();g.height(l);c.removeClass("is-active");d.addClass("is-active");c=d.height();g.animate({height:c},300);a.stateIndex=b}};a.element.on("click.section",
".section-toggle > li",function(){a.toggle(c(this).index())});return a};app.module({init:function(){app.sections=[];c(".section").each(function(){c(this).data("app:section",new b(this))})}})})(jQuery);
(function(c){app.module({init:function(){c(".promo-slides").each(function(){var b=c(this),d=b.children(".promo-slides-nav"),a=b.children(".promo-slides-main").children(".promo-slides-pane");d.on("click","li",function(){var b=c(this);b.addClass("is-active").siblings().removeClass("is-active");b=b.index();a.removeClass("is-active").eq(b).addClass("is-active")})})}})})(jQuery);
(function(c){app.module({init:function(){c("[data-bureaucrat]").each(function(){var b=c(this),d=b.find("[type=submit]");b.on("b:complete b:invalid",function(a){a="b:invalid"===a.type;d.toggleClass("is-disabled",a);d.prop("disabled",a)}).on("b:valid b:invalid","[data-validate*=email]",function(a){c(this).toggleClass("has-error","b:invalid"===a.type)}).on("b:change",function(){b.bureaucrat("validate")}).bureaucrat().bureaucrat("validate")})}})})(jQuery);
